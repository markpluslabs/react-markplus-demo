var e=globalThis.parcelRequire94c2;(0,e.register)("1x80i",function(n,t){Object.defineProperty(n.exports,"layout",{get:()=>e8,set:void 0,enumerable:!0,configurable:!0});var r=e("4kWfH"),a=e("76RTQ"),o=e("2266r"),d=e("7xxrv");function u(e,n,t,r){var o;do o=(0,a.uniqueId_default)(r);while(e.hasNode(o))return t.dummy=n,e.setNode(o,t),o}function i(e){var n=new(0,r.Graph)().setGraph(e.graph());return(0,a.forEach_default)(e.nodes(),function(t){n.setNode(t,e.node(t))}),(0,a.forEach_default)(e.edges(),function(t){var r=n.edge(t.v,t.w)||{weight:0,minlen:1},a=e.edge(t);n.setEdge(t.v,t.w,{weight:r.weight+a.weight,minlen:Math.max(r.minlen,a.minlen)})}),n}function f(e){var n=new(0,r.Graph)({multigraph:e.isMultigraph()}).setGraph(e.graph());return(0,a.forEach_default)(e.nodes(),function(t){e.children(t).length||n.setNode(t,e.node(t))}),(0,a.forEach_default)(e.edges(),function(t){n.setEdge(t,e.edge(t))}),n}function c(e,n){var t,r,a=e.x,o=e.y,d=n.x-a,u=n.y-o,i=e.width/2,f=e.height/2;if(!d&&!u)throw Error("Not possible to find intersection inside of the rectangle");return Math.abs(u)*i>Math.abs(d)*f?(u<0&&(f=-f),t=f*d/u,r=f):(d<0&&(i=-i),t=i,r=i*u/d),{x:a+t,y:o+r}}function l(e){var n=(0,a.map_default)((0,a.range_default)(g(e)+1),function(){return[]});return(0,a.forEach_default)(e.nodes(),function(t){var r=e.node(t),o=r.rank;(0,a.isUndefined_default)(o)||(n[o][r.order]=t)}),n}function s(e){var n=(0,a.min_default)((0,a.map_default)(e.nodes(),function(n){return e.node(n).rank}));(0,a.forEach_default)(e.nodes(),function(t){var r=e.node(t);(0,a.has_default)(r,"rank")&&(r.rank-=n)})}function _(e){var n=(0,a.min_default)((0,a.map_default)(e.nodes(),function(n){return e.node(n).rank})),t=[];(0,a.forEach_default)(e.nodes(),function(r){var a=e.node(r).rank-n;t[a]||(t[a]=[]),t[a].push(r)});var r=0,o=e.graph().nodeRankFactor;(0,a.forEach_default)(t,function(n,t){(0,a.isUndefined_default)(n)&&t%o!=0?--r:r&&(0,a.forEach_default)(n,function(n){e.node(n).rank+=r})})}function h(e,n,t,r){var a={width:0,height:0};return arguments.length>=4&&(a.rank=t,a.order=r),u(e,"border",a,n)}function g(e){return(0,a.max_default)((0,a.map_default)(e.nodes(),function(n){var t=e.node(n).rank;if(!(0,a.isUndefined_default)(t))return t}))}function m(e,n){var t={lhs:[],rhs:[]};return(0,a.forEach_default)(e,function(e){n(e)?t.lhs.push(e):t.rhs.push(e)}),t}function p(e,n){var t=(0,a.now_default)();try{return n()}finally{console.log(e+" time: "+((0,a.now_default)()-t)+"ms")}}function v(e,n){return n()}function w(e){function n(t){var r=e.children(t),o=e.node(t);if(r.length&&(0,a.forEach_default)(r,n),Object.prototype.hasOwnProperty.call(o,"minRank")){o.borderLeft=[],o.borderRight=[];for(var d=o.minRank,u=o.maxRank+1;d<u;++d)E(e,"borderLeft","_bl",t,o,d),E(e,"borderRight","_br",t,o,d)}}(0,d.__name)(n,"dfs"),(0,a.forEach_default)(e.children(),n)}function E(e,n,t,r,a,o){var d=a[n][o-1],i=u(e,"border",{width:0,height:0,rank:o,borderType:n},t);a[n][o]=i,e.setParent(i,r),d&&e.setEdge(d,i,{weight:1})}function b(e){var n=e.graph().rankdir.toLowerCase();("lr"===n||"rl"===n)&&k(e)}function y(e){var n=e.graph().rankdir.toLowerCase();("bt"===n||"rl"===n)&&N(e),("lr"===n||"rl"===n)&&(I(e),k(e))}function k(e){(0,a.forEach_default)(e.nodes(),function(n){x(e.node(n))}),(0,a.forEach_default)(e.edges(),function(n){x(e.edge(n))})}function x(e){var n=e.width;e.width=e.height,e.height=n}function N(e){(0,a.forEach_default)(e.nodes(),function(n){O(e.node(n))}),(0,a.forEach_default)(e.edges(),function(n){var t=e.edge(n);(0,a.forEach_default)(t.points,O),Object.prototype.hasOwnProperty.call(t,"y")&&O(t)})}function O(e){e.y=-e.y}function I(e){(0,a.forEach_default)(e.nodes(),function(n){L(e.node(n))}),(0,a.forEach_default)(e.edges(),function(n){var t=e.edge(n);(0,a.forEach_default)(t.points,L),Object.prototype.hasOwnProperty.call(t,"x")&&L(t)})}function L(e){var n=e.x;e.x=e.y,e.y=n}(0,d.__name)(u,"addDummyNode"),(0,d.__name)(i,"simplify"),(0,d.__name)(f,"asNonCompoundGraph"),(0,d.__name)(c,"intersectRect"),(0,d.__name)(l,"buildLayerMatrix"),(0,d.__name)(s,"normalizeRanks"),(0,d.__name)(_,"removeEmptyRanks"),(0,d.__name)(h,"addBorderNode"),(0,d.__name)(g,"maxRank"),(0,d.__name)(m,"partition"),(0,d.__name)(p,"time"),(0,d.__name)(v,"notime"),(0,d.__name)(w,"addBorderSegments"),(0,d.__name)(E,"addBorderNode"),(0,d.__name)(b,"adjust"),(0,d.__name)(y,"undo"),(0,d.__name)(k,"swapWidthHeight"),(0,d.__name)(x,"swapWidthHeightOne"),(0,d.__name)(N,"reverseY"),(0,d.__name)(O,"reverseYOne"),(0,d.__name)(I,"swapXY"),(0,d.__name)(L,"swapXYOne");var P=class{static{(0,d.__name)(this,"List")}constructor(){var e={};e._next=e._prev=e,this._sentinel=e}dequeue(){var e=this._sentinel,n=e._prev;if(n!==e)return C(n),n}enqueue(e){var n=this._sentinel;e._prev&&e._next&&C(e),e._next=n._next,n._next._prev=e,n._next=e,e._prev=n}toString(){for(var e=[],n=this._sentinel,t=n._prev;t!==n;)e.push(JSON.stringify(t,R)),t=t._prev;return"["+e.join(", ")+"]"}};function C(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function R(e,n){if("_next"!==e&&"_prev"!==e)return n}(0,d.__name)(C,"unlink"),(0,d.__name)(R,"filterOutLinks");var T=(0,o.constant_default)(1);function S(e,n){if(1>=e.nodeCount())return[];var t=G(e,n||T),r=j(t.graph,t.buckets,t.zeroIdx);return(0,a.flatten_default)((0,a.map_default)(r,function(n){return e.outEdges(n.v,n.w)}))}function j(e,n,t){for(var r,a=[],o=n[n.length-1],d=n[0];e.nodeCount();){for(;r=d.dequeue();)M(e,n,t,r);for(;r=o.dequeue();)M(e,n,t,r);if(e.nodeCount()){for(var u=n.length-2;u>0;--u)if(r=n[u].dequeue()){a=a.concat(M(e,n,t,r,!0));break}}}return a}function M(e,n,t,r,o){var d=o?[]:void 0;return(0,a.forEach_default)(e.inEdges(r.v),function(r){var a=e.edge(r),u=e.node(r.v);o&&d.push({v:r.v,w:r.w}),u.out-=a,B(n,t,u)}),(0,a.forEach_default)(e.outEdges(r.v),function(r){var a=e.edge(r),o=r.w,d=e.node(o);d.in-=a,B(n,t,d)}),e.removeNode(r.v),d}function G(e,n){var t=new r.Graph,o=0,d=0;(0,a.forEach_default)(e.nodes(),function(e){t.setNode(e,{v:e,in:0,out:0})}),(0,a.forEach_default)(e.edges(),function(e){var r=t.edge(e.v,e.w)||0,a=n(e);t.setEdge(e.v,e.w,r+a),d=Math.max(d,t.node(e.v).out+=a),o=Math.max(o,t.node(e.w).in+=a)});var u=(0,a.range_default)(d+o+3).map(function(){return new P}),i=o+1;return(0,a.forEach_default)(t.nodes(),function(e){B(u,i,t.node(e))}),{graph:t,buckets:u,zeroIdx:i}}function B(e,n,t){t.out?t.in?e[t.out-t.in+n].enqueue(t):e[e.length-1].enqueue(t):e[0].enqueue(t)}function V(e){var n="greedy"===e.graph().acyclicer?S(e,t(e)):F(e);function t(e){return function(n){return e.edge(n).weight}}(0,a.forEach_default)(n,function(n){var t=e.edge(n);e.removeEdge(n),t.forwardName=n.name,t.reversed=!0,e.setEdge(n.w,n.v,t,(0,a.uniqueId_default)("rev"))}),(0,d.__name)(t,"weightFn")}function F(e){var n=[],t={},r={};function o(d){Object.prototype.hasOwnProperty.call(r,d)||(r[d]=!0,t[d]=!0,(0,a.forEach_default)(e.outEdges(d),function(e){Object.prototype.hasOwnProperty.call(t,e.w)?n.push(e):o(e.w)}),delete t[d])}return(0,d.__name)(o,"dfs"),(0,a.forEach_default)(e.nodes(),o),n}function Y(e){(0,a.forEach_default)(e.edges(),function(n){var t=e.edge(n);if(t.reversed){e.removeEdge(n);var r=t.forwardName;delete t.reversed,delete t.forwardName,e.setEdge(n.w,n.v,t,r)}})}function q(e){e.graph().dummyChains=[],(0,a.forEach_default)(e.edges(),function(n){z(e,n)})}function z(e,n){var t,r,a=n.v,o=e.node(a).rank,d=n.w,i=e.node(d).rank,f=n.name,c=e.edge(n),l=c.labelRank;if(i!==o+1){e.removeEdge(n);var s=void 0;for(r=0,++o;o<i;++r,++o)c.points=[],t=u(e,"edge",s={width:0,height:0,edgeLabel:c,edgeObj:n,rank:o},"_d"),o===l&&(s.width=c.width,s.height=c.height,s.dummy="edge-label",s.labelpos=c.labelpos),e.setEdge(a,t,{weight:c.weight},f),0===r&&e.graph().dummyChains.push(t),a=t;e.setEdge(a,d,{weight:c.weight},f)}}function U(e){(0,a.forEach_default)(e.graph().dummyChains,function(n){var t,r=e.node(n),a=r.edgeLabel;for(e.setEdge(r.edgeObj,a);r.dummy;)t=e.successors(n)[0],e.removeNode(n),a.points.push({x:r.x,y:r.y}),"edge-label"===r.dummy&&(a.x=r.x,a.y=r.y,a.width=r.width,a.height=r.height),n=t,r=e.node(n)})}function A(e){var n={};function t(r){var o=e.node(r);if(Object.prototype.hasOwnProperty.call(n,r))return o.rank;n[r]=!0;var d=(0,a.min_default)((0,a.map_default)(e.outEdges(r),function(n){return t(n.w)-e.edge(n).minlen}));return(d===Number.POSITIVE_INFINITY||null==d)&&(d=0),o.rank=d}(0,d.__name)(t,"dfs"),(0,a.forEach_default)(e.sources(),t)}function D(e,n){return e.node(n.w).rank-e.node(n.v).rank-e.edge(n).minlen}function W(e){var n,t,a=new r.Graph({directed:!1}),o=e.nodes()[0],d=e.nodeCount();for(a.setNode(o,{});H(a,e)<d;)n=X(a,e),t=a.hasNode(n.v)?D(e,n):-D(e,n),J(a,e,t);return a}function H(e,n){function t(r){(0,a.forEach_default)(n.nodeEdges(r),function(a){var o=a.v,d=r===o?a.w:o;e.hasNode(d)||D(n,a)||(e.setNode(d,{}),e.setEdge(r,d,{}),t(d))})}return(0,d.__name)(t,"dfs"),(0,a.forEach_default)(e.nodes(),t),e.nodeCount()}function X(e,n){return(0,a.minBy_default)(n.edges(),function(t){if(e.hasNode(t.v)!==e.hasNode(t.w))return D(n,t)})}function J(e,n,t){(0,a.forEach_default)(e.nodes(),function(e){n.node(e).rank+=t})}function Q(e){var n={},t={},r=[];function o(d){if(Object.prototype.hasOwnProperty.call(t,d))throw new K;Object.prototype.hasOwnProperty.call(n,d)||(t[d]=!0,n[d]=!0,(0,a.forEach_default)(e.predecessors(d),o),delete t[d],r.push(d))}if((0,d.__name)(o,"visit"),(0,a.forEach_default)(e.sinks(),o),(0,a.size_default)(n)!==e.nodeCount())throw new K;return r}function K(){}function Z(e,n,t){(0,o.isArray_default)(n)||(n=[n]);var r=(e.isDirected()?e.successors:e.neighbors).bind(e),d=[],u={};return(0,a.forEach_default)(n,function(n){if(!e.hasNode(n))throw Error("Graph does not have node: "+n);$(e,n,"post"===t,u,r,d)}),d}function $(e,n,t,r,o,d){!Object.prototype.hasOwnProperty.call(r,n)&&(r[n]=!0,t||d.push(n),(0,a.forEach_default)(o(n),function(n){$(e,n,t,r,o,d)}),t&&d.push(n))}function ee(e,n){return Z(e,n,"post")}function en(e,n){return Z(e,n,"pre")}function et(e){A(e=i(e));var n,t,r=W(e);for(ed(r),er(r,e);n=ei(r);)t=ef(r,e,n),ec(r,e,n,t)}function er(e,n){var t=ee(e,e.nodes());t=t.slice(0,t.length-1),(0,a.forEach_default)(t,function(t){ea(e,n,t)})}function ea(e,n,t){var r=e.node(t).parent;e.edge(t,r).cutvalue=eo(e,n,t)}function eo(e,n,t){var r=e.node(t).parent,o=!0,d=n.edge(t,r),u=0;return d||(o=!1,d=n.edge(r,t)),u=d.weight,(0,a.forEach_default)(n.nodeEdges(t),function(a){var d=a.v===t,i=d?a.w:a.v;if(i!==r){var f=d===o,c=n.edge(a).weight;if(u+=f?c:-c,es(e,t,i)){var l=e.edge(t,i).cutvalue;u+=f?-l:l}}}),u}function ed(e,n){arguments.length<2&&(n=e.nodes()[0]),eu(e,{},1,n)}function eu(e,n,t,r,o){var d=t,u=e.node(r);return n[r]=!0,(0,a.forEach_default)(e.neighbors(r),function(a){Object.prototype.hasOwnProperty.call(n,a)||(t=eu(e,n,t,a,r))}),u.low=d,u.lim=t++,o?u.parent=o:delete u.parent,t}function ei(e){return(0,a.find_default)(e.edges(),function(n){return e.edge(n).cutvalue<0})}function ef(e,n,t){var r=t.v,o=t.w;n.hasEdge(r,o)||(r=t.w,o=t.v);var d=e.node(r),u=e.node(o),i=d,f=!1;d.lim>u.lim&&(i=u,f=!0);var c=(0,a.filter_default)(n.edges(),function(n){return f===e_(e,e.node(n.v),i)&&f!==e_(e,e.node(n.w),i)});return(0,a.minBy_default)(c,function(e){return D(n,e)})}function ec(e,n,t,r){var a=t.v,o=t.w;e.removeEdge(a,o),e.setEdge(r.v,r.w,{}),ed(e),er(e,n),el(e,n)}function el(e,n){var t=(0,a.find_default)(e.nodes(),function(e){return!n.node(e).parent}),r=en(e,t);r=r.slice(1),(0,a.forEach_default)(r,function(t){var r=e.node(t).parent,a=n.edge(t,r),o=!1;a||(a=n.edge(r,t),o=!0),n.node(t).rank=n.node(r).rank+(o?a.minlen:-a.minlen)})}function es(e,n,t){return e.hasEdge(n,t)}function e_(e,n,t){return t.low<=n.lim&&n.lim<=t.lim}function eh(e){switch(e.graph().ranker){case"network-simplex":default:ep(e);break;case"tight-tree":em(e);break;case"longest-path":eg(e)}}(0,d.__name)(S,"greedyFAS"),(0,d.__name)(j,"doGreedyFAS"),(0,d.__name)(M,"removeNode"),(0,d.__name)(G,"buildState"),(0,d.__name)(B,"assignBucket"),(0,d.__name)(V,"run"),(0,d.__name)(F,"dfsFAS"),(0,d.__name)(Y,"undo"),(0,d.__name)(q,"run"),(0,d.__name)(z,"normalizeEdge"),(0,d.__name)(U,"undo"),(0,d.__name)(A,"longestPath"),(0,d.__name)(D,"slack"),(0,d.__name)(W,"feasibleTree"),(0,d.__name)(H,"tightTree"),(0,d.__name)(X,"findMinSlackEdge"),(0,d.__name)(J,"shiftRanks"),(0,o.constant_default)(1),(0,o.constant_default)(1),Q.CycleException=K,(0,d.__name)(Q,"topsort"),(0,d.__name)(K,"CycleException"),K.prototype=Error(),(0,d.__name)(Z,"dfs"),(0,d.__name)($,"doDfs"),(0,d.__name)(ee,"postorder"),(0,d.__name)(en,"preorder"),et.initLowLimValues=ed,et.initCutValues=er,et.calcCutValue=eo,et.leaveEdge=ei,et.enterEdge=ef,et.exchangeEdges=ec,(0,d.__name)(et,"networkSimplex"),(0,d.__name)(er,"initCutValues"),(0,d.__name)(ea,"assignCutValue"),(0,d.__name)(eo,"calcCutValue"),(0,d.__name)(ed,"initLowLimValues"),(0,d.__name)(eu,"dfsAssignLowLim"),(0,d.__name)(ei,"leaveEdge"),(0,d.__name)(ef,"enterEdge"),(0,d.__name)(ec,"exchangeEdges"),(0,d.__name)(el,"updateRanks"),(0,d.__name)(es,"isTreeEdge"),(0,d.__name)(e_,"isDescendant"),(0,d.__name)(eh,"rank");var eg=A;function em(e){A(e),W(e)}function ep(e){et(e)}function ev(e){var n=u(e,"root",{},"_root"),t=eE(e),r=(0,a.max_default)((0,a.values_default)(t))-1,o=2*r+1;e.graph().nestingRoot=n,(0,a.forEach_default)(e.edges(),function(n){e.edge(n).minlen*=o});var d=eb(e)+1;(0,a.forEach_default)(e.children(),function(a){ew(e,n,o,d,r,t,a)}),e.graph().nodeRankFactor=o}function ew(e,n,t,r,o,d,u){var i=e.children(u);if(!i.length){u!==n&&e.setEdge(n,u,{weight:0,minlen:t});return}var f=h(e,"_bt"),c=h(e,"_bb"),l=e.node(u);e.setParent(f,u),l.borderTop=f,e.setParent(c,u),l.borderBottom=c,(0,a.forEach_default)(i,function(a){ew(e,n,t,r,o,d,a);var i=e.node(a),l=i.borderTop?i.borderTop:a,s=i.borderBottom?i.borderBottom:a,_=i.borderTop?r:2*r,h=l!==s?1:o-d[u]+1;e.setEdge(f,l,{weight:_,minlen:h,nestingEdge:!0}),e.setEdge(s,c,{weight:_,minlen:h,nestingEdge:!0})}),e.parent(u)||e.setEdge(n,f,{weight:0,minlen:o+d[u]})}function eE(e){var n={};function t(r,o){var d=e.children(r);d&&d.length&&(0,a.forEach_default)(d,function(e){t(e,o+1)}),n[r]=o}return(0,d.__name)(t,"dfs"),(0,a.forEach_default)(e.children(),function(e){t(e,1)}),n}function eb(e){return(0,a.reduce_default)(e.edges(),function(n,t){return n+e.edge(t).weight},0)}function ey(e){var n=e.graph();e.removeNode(n.nestingRoot),delete n.nestingRoot,(0,a.forEach_default)(e.edges(),function(n){e.edge(n).nestingEdge&&e.removeEdge(n)})}function ek(e,n,t){var r,o={};(0,a.forEach_default)(t,function(t){for(var a,d,u=e.parent(t);u;){if((a=e.parent(u))?(d=o[a],o[a]=u):(d=r,r=u),d&&d!==u){n.setEdge(d,u);return}u=a}})}function ex(e,n,t){var o=eN(e),d=new(0,r.Graph)({compound:!0}).setGraph({root:o}).setDefaultNodeLabel(function(n){return e.node(n)});return(0,a.forEach_default)(e.nodes(),function(r){var u=e.node(r),i=e.parent(r);(u.rank===n||u.minRank<=n&&n<=u.maxRank)&&(d.setNode(r),d.setParent(r,i||o),(0,a.forEach_default)(e[t](r),function(n){var t=n.v===r?n.w:n.v,o=d.edge(t,r),u=(0,a.isUndefined_default)(o)?0:o.weight;d.setEdge(t,r,{weight:e.edge(n).weight+u})}),Object.prototype.hasOwnProperty.call(u,"minRank")&&d.setNode(r,{borderLeft:u.borderLeft[n],borderRight:u.borderRight[n]}))}),d}function eN(e){for(var n;e.hasNode(n=(0,a.uniqueId_default)("_root")););return n}function eO(e,n){for(var t=0,r=1;r<n.length;++r)t+=eI(e,n[r-1],n[r]);return t}function eI(e,n,t){for(var r=(0,a.zipObject_default)(t,(0,a.map_default)(t,function(e,n){return n})),o=(0,a.flatten_default)((0,a.map_default)(n,function(n){return(0,a.sortBy_default)((0,a.map_default)(e.outEdges(n),function(n){return{pos:r[n.w],weight:e.edge(n).weight}}),"pos")})),d=1;d<t.length;)d<<=1;var u=2*d-1;d-=1;var i=(0,a.map_default)(Array(u),function(){return 0}),f=0;return(0,a.forEach_default)(o.forEach(function(e){var n=e.pos+d;i[n]+=e.weight;for(var t=0;n>0;)n%2&&(t+=i[n+1]),n=n-1>>1,i[n]+=e.weight;f+=e.weight*t})),f}function eL(e){var n={},t=(0,a.filter_default)(e.nodes(),function(n){return!e.children(n).length}),r=(0,a.max_default)((0,a.map_default)(t,function(n){return e.node(n).rank})),o=(0,a.map_default)((0,a.range_default)(r+1),function(){return[]});function u(t){(0,a.has_default)(n,t)||(n[t]=!0,o[e.node(t).rank].push(t),(0,a.forEach_default)(e.successors(t),u))}(0,d.__name)(u,"dfs");var i=(0,a.sortBy_default)(t,function(n){return e.node(n).rank});return(0,a.forEach_default)(i,u),o}function eP(e,n){return(0,a.map_default)(n,function(n){var t=e.inEdges(n);if(!t.length)return{v:n};var r=(0,a.reduce_default)(t,function(n,t){var r=e.edge(t),a=e.node(t.v);return{sum:n.sum+r.weight*a.order,weight:n.weight+r.weight}},{sum:0,weight:0});return{v:n,barycenter:r.sum/r.weight,weight:r.weight}})}function eC(e,n){var t={};return(0,a.forEach_default)(e,function(e,n){var r=t[e.v]={indegree:0,in:[],out:[],vs:[e.v],i:n};(0,a.isUndefined_default)(e.barycenter)||(r.barycenter=e.barycenter,r.weight=e.weight)}),(0,a.forEach_default)(n.edges(),function(e){var n=t[e.v],r=t[e.w];(0,a.isUndefined_default)(n)||(0,a.isUndefined_default)(r)||(r.indegree++,n.out.push(t[e.w]))}),eR((0,a.filter_default)(t,function(e){return!e.indegree}))}function eR(e){var n=[];function t(e){return function(n){!n.merged&&((0,a.isUndefined_default)(n.barycenter)||(0,a.isUndefined_default)(e.barycenter)||n.barycenter>=e.barycenter)&&eT(e,n)}}function r(n){return function(t){t.in.push(n),0==--t.indegree&&e.push(t)}}for((0,d.__name)(t,"handleIn"),(0,d.__name)(r,"handleOut");e.length;){var o=e.pop();n.push(o),(0,a.forEach_default)(o.in.reverse(),t(o)),(0,a.forEach_default)(o.out,r(o))}return(0,a.map_default)((0,a.filter_default)(n,function(e){return!e.merged}),function(e){return(0,a.pick_default)(e,["vs","i","barycenter","weight"])})}function eT(e,n){var t=0,r=0;e.weight&&(t+=e.barycenter*e.weight,r+=e.weight),n.weight&&(t+=n.barycenter*n.weight,r+=n.weight),e.vs=n.vs.concat(e.vs),e.barycenter=t/r,e.weight=r,e.i=Math.min(n.i,e.i),n.merged=!0}function eS(e,n){var t=m(e,function(e){return Object.prototype.hasOwnProperty.call(e,"barycenter")}),r=t.lhs,o=(0,a.sortBy_default)(t.rhs,function(e){return-e.i}),d=[],u=0,i=0,f=0;r.sort(eM(!!n)),f=ej(d,o,f),(0,a.forEach_default)(r,function(e){f+=e.vs.length,d.push(e.vs),u+=e.barycenter*e.weight,i+=e.weight,f=ej(d,o,f)});var c={vs:(0,a.flatten_default)(d)};return i&&(c.barycenter=u/i,c.weight=i),c}function ej(e,n,t){for(var r;n.length&&(r=(0,a.last_default)(n)).i<=t;)n.pop(),e.push(r.vs),t++;return t}function eM(e){return function(n,t){return n.barycenter<t.barycenter?-1:n.barycenter>t.barycenter?1:e?t.i-n.i:n.i-t.i}}function eG(e,n,t,r){var o=e.children(n),d=e.node(n),u=d?d.borderLeft:void 0,i=d?d.borderRight:void 0,f={};u&&(o=(0,a.filter_default)(o,function(e){return e!==u&&e!==i}));var c=eP(e,o);(0,a.forEach_default)(c,function(n){if(e.children(n.v).length){var a=eG(e,n.v,t,r);f[n.v]=a,Object.prototype.hasOwnProperty.call(a,"barycenter")&&eV(n,a)}});var l=eC(c,t);eB(l,f);var s=eS(l,r);if(u&&(s.vs=(0,a.flatten_default)([u,s.vs,i]),e.predecessors(u).length)){var _=e.node(e.predecessors(u)[0]),h=e.node(e.predecessors(i)[0]);Object.prototype.hasOwnProperty.call(s,"barycenter")||(s.barycenter=0,s.weight=0),s.barycenter=(s.barycenter*s.weight+_.order+h.order)/(s.weight+2),s.weight+=2}return s}function eB(e,n){(0,a.forEach_default)(e,function(e){e.vs=(0,a.flatten_default)(e.vs.map(function(e){return n[e]?n[e].vs:e}))})}function eV(e,n){(0,a.isUndefined_default)(e.barycenter)?(e.barycenter=n.barycenter,e.weight=n.weight):(e.barycenter=(e.barycenter*e.weight+n.barycenter*n.weight)/(e.weight+n.weight),e.weight+=n.weight)}function eF(e){var n=g(e),t=eY(e,(0,a.range_default)(1,n+1),"inEdges"),r=eY(e,(0,a.range_default)(n-1,-1,-1),"outEdges"),o=eL(e);ez(e,o);for(var d,u=Number.POSITIVE_INFINITY,i=0,f=0;f<4;++i,++f){eq(i%2?t:r,i%4>=2),o=l(e);var c=eO(e,o);c<u&&(f=0,d=(0,a.cloneDeep_default)(o),u=c)}ez(e,d)}function eY(e,n,t){return(0,a.map_default)(n,function(n){return ex(e,n,t)})}function eq(e,n){var t=new r.Graph;(0,a.forEach_default)(e,function(e){var r=e.graph().root,o=eG(e,r,t,n);(0,a.forEach_default)(o.vs,function(n,t){e.node(n).order=t}),ek(e,t,o.vs)})}function ez(e,n){(0,a.forEach_default)(n,function(n){(0,a.forEach_default)(n,function(n,t){e.node(n).order=t})})}function eU(e){var n=eD(e);(0,a.forEach_default)(e.graph().dummyChains,function(t){for(var r=e.node(t),a=r.edgeObj,o=eA(e,n,a.v,a.w),d=o.path,u=o.lca,i=0,f=d[0],c=!0;t!==a.w;){if(r=e.node(t),c){for(;(f=d[i])!==u&&e.node(f).maxRank<r.rank;)i++;f===u&&(c=!1)}if(!c){for(;i<d.length-1&&e.node(f=d[i+1]).minRank<=r.rank;)i++;f=d[i]}e.setParent(t,f),t=e.successors(t)[0]}})}function eA(e,n,t,r){var a,o,d=[],u=[],i=Math.min(n[t].low,n[r].low),f=Math.max(n[t].lim,n[r].lim);a=t;do d.push(a=e.parent(a));while(a&&(n[a].low>i||f>n[a].lim))for(o=a,a=r;(a=e.parent(a))!==o;)u.push(a);return{path:d.concat(u.reverse()),lca:o}}function eD(e){var n={},t=0;function r(o){var d=t;(0,a.forEach_default)(e.children(o),r),n[o]={low:d,lim:t++}}return(0,d.__name)(r,"dfs"),(0,a.forEach_default)(e.children(),r),n}function eW(e,n){var t={};function r(n,r){var o=0,d=0,u=n.length,i=(0,a.last_default)(r);return(0,a.forEach_default)(r,function(n,f){var c=eX(e,n),l=c?e.node(c).order:u;(c||n===i)&&((0,a.forEach_default)(r.slice(d,f+1),function(n){(0,a.forEach_default)(e.predecessors(n),function(r){var a=e.node(r),d=a.order;(d<o||l<d)&&!(a.dummy&&e.node(n).dummy)&&eJ(t,r,n)})}),d=f+1,o=l)}),r}return(0,d.__name)(r,"visitLayer"),(0,a.reduce_default)(n,r),t}function eH(e,n){var t={};function r(n,r,o,d,u){var i;(0,a.forEach_default)((0,a.range_default)(r,o),function(r){i=n[r],e.node(i).dummy&&(0,a.forEach_default)(e.predecessors(i),function(n){var r=e.node(n);r.dummy&&(r.order<d||r.order>u)&&eJ(t,n,i)})})}function o(n,t){var o,d=-1,u=0;return(0,a.forEach_default)(t,function(a,i){if("border"===e.node(a).dummy){var f=e.predecessors(a);f.length&&(o=e.node(f[0]).order,r(t,u,i,d,o),u=i,d=o)}r(t,u,t.length,o,n.length)}),t}return(0,d.__name)(r,"scan"),(0,d.__name)(o,"visitLayer"),(0,a.reduce_default)(n,o),t}function eX(e,n){if(e.node(n).dummy)return(0,a.find_default)(e.predecessors(n),function(n){return e.node(n).dummy})}function eJ(e,n,t){if(n>t){var r=n;n=t,t=r}var a=e[n];a||(e[n]=a={}),a[t]=!0}function eQ(e,n,t){if(n>t){var r=n;n=t,t=r}return!!e[n]&&Object.prototype.hasOwnProperty.call(e[n],t)}function eK(e,n,t,r){var o={},d={},u={};return(0,a.forEach_default)(n,function(e){(0,a.forEach_default)(e,function(e,n){o[e]=e,d[e]=e,u[e]=n})}),(0,a.forEach_default)(n,function(e){var n=-1;(0,a.forEach_default)(e,function(e){var i=r(e);if(i.length)for(var f=((i=(0,a.sortBy_default)(i,function(e){return u[e]})).length-1)/2,c=Math.floor(f),l=Math.ceil(f);c<=l;++c){var s=i[c];d[e]===e&&n<u[s]&&!eQ(t,e,s)&&(d[s]=e,d[e]=o[e]=o[s],n=u[s])}})}),{root:o,align:d}}function eZ(e,n,t,r,o){var u={},i=e$(e,n,t,o),f=o?"borderLeft":"borderRight";function c(e,n){for(var t=i.nodes(),r=t.pop(),a={};r;)a[r]?e(r):(a[r]=!0,t.push(r),t=t.concat(n(r))),r=t.pop()}function l(e){u[e]=i.inEdges(e).reduce(function(e,n){return Math.max(e,u[n.v]+i.edge(n))},0)}function s(n){var t=i.outEdges(n).reduce(function(e,n){return Math.min(e,u[n.w]-i.edge(n))},Number.POSITIVE_INFINITY),r=e.node(n);t!==Number.POSITIVE_INFINITY&&r.borderType!==f&&(u[n]=Math.max(u[n],t))}return(0,d.__name)(c,"iterate"),(0,d.__name)(l,"pass1"),(0,d.__name)(s,"pass2"),c(l,i.predecessors.bind(i)),c(s,i.successors.bind(i)),(0,a.forEach_default)(r,function(e){u[e]=u[t[e]]}),u}function e$(e,n,t,o){var d=new r.Graph,u=e.graph(),i=e6(u.nodesep,u.edgesep,o);return(0,a.forEach_default)(n,function(n){var r;(0,a.forEach_default)(n,function(n){var a=t[n];if(d.setNode(a),r){var o=t[r],u=d.edge(o,a);d.setEdge(o,a,Math.max(i(e,n,r),u||0))}r=n})}),d}function e0(e,n){return(0,a.minBy_default)((0,a.values_default)(n),function(n){var t=Number.NEGATIVE_INFINITY,r=Number.POSITIVE_INFINITY;return(0,a.forIn_default)(n,function(n,a){var o=e5(e,a)/2;t=Math.max(n+o,t),r=Math.min(n-o,r)}),t-r})}function e1(e,n){var t=(0,a.values_default)(n),r=(0,a.min_default)(t),o=(0,a.max_default)(t);(0,a.forEach_default)(["u","d"],function(t){(0,a.forEach_default)(["l","r"],function(d){var u,i=t+d,f=e[i];if(f!==n){var c=(0,a.values_default)(f);(u="l"===d?r-(0,a.min_default)(c):o-(0,a.max_default)(c))&&(e[i]=(0,a.mapValues_default)(f,function(e){return e+u}))}})})}function e2(e,n){return(0,a.mapValues_default)(e.ul,function(t,r){if(n)return e[n.toLowerCase()][r];var o=(0,a.sortBy_default)((0,a.map_default)(e,r));return(o[1]+o[2])/2})}function e4(e){var n,t=l(e),r=(0,o.merge_default)(eW(e,t),eH(e,t)),d={};(0,a.forEach_default)(["u","d"],function(o){n="u"===o?t:(0,a.values_default)(t).reverse(),(0,a.forEach_default)(["l","r"],function(t){"r"===t&&(n=(0,a.map_default)(n,function(e){return(0,a.values_default)(e).reverse()}));var u=("u"===o?e.predecessors:e.successors).bind(e),i=eK(e,n,r,u),f=eZ(e,n,i.root,i.align,"r"===t);"r"===t&&(f=(0,a.mapValues_default)(f,function(e){return-e})),d[o+t]=f})});var u=e0(e,d);return e1(d,u),e2(d,e.graph().align)}function e6(e,n,t){return function(r,a,o){var d,u,i=r.node(a),f=r.node(o);if(d=0+i.width/2,Object.prototype.hasOwnProperty.call(i,"labelpos"))switch(i.labelpos.toLowerCase()){case"l":u=-i.width/2;break;case"r":u=i.width/2}if(u&&(d+=t?u:-u),u=0,d+=(i.dummy?n:e)/2,d+=(f.dummy?n:e)/2,d+=f.width/2,Object.prototype.hasOwnProperty.call(f,"labelpos"))switch(f.labelpos.toLowerCase()){case"l":u=f.width/2;break;case"r":u=-f.width/2}return u&&(d+=t?u:-u),u=0,d}}function e5(e,n){return e.node(n).width}function e3(e){e7(e=f(e)),(0,a.forOwn_default)(e4(e),function(n,t){e.node(t).x=n})}function e7(e){var n=l(e),t=e.graph().ranksep,r=0;(0,a.forEach_default)(n,function(n){var o=(0,a.max_default)((0,a.map_default)(n,function(n){return e.node(n).height}));(0,a.forEach_default)(n,function(n){e.node(n).y=r+o/2}),r+=o+t})}function e8(e,n){var t=n&&n.debugTiming?p:v;t("layout",()=>{var n=t("  buildLayoutGraph",()=>nf(e));t("  runLayout",()=>e9(n,t)),t("  updateInputGraph",()=>ne(e,n))})}function e9(e,n){n("    makeSpaceForEdgeLabels",()=>nc(e)),n("    removeSelfEdges",()=>nw(e)),n("    acyclic",()=>V(e)),n("    nestingGraph.run",()=>ev(e)),n("    rank",()=>eh(f(e))),n("    injectEdgeLabelProxies",()=>nl(e)),n("    removeEmptyRanks",()=>_(e)),n("    nestingGraph.cleanup",()=>ey(e)),n("    normalizeRanks",()=>s(e)),n("    assignRankMinMax",()=>ns(e)),n("    removeEdgeLabelProxies",()=>n_(e)),n("    normalize.run",()=>q(e)),n("    parentDummyChains",()=>eU(e)),n("    addBorderSegments",()=>w(e)),n("    order",()=>eF(e)),n("    insertSelfEdges",()=>nE(e)),n("    adjustCoordinateSystem",()=>b(e)),n("    position",()=>e3(e)),n("    positionSelfEdges",()=>nb(e)),n("    removeBorderNodes",()=>nv(e)),n("    normalize.undo",()=>U(e)),n("    fixupEdgeLabelCoords",()=>nm(e)),n("    undoCoordinateSystem",()=>y(e)),n("    translateGraph",()=>nh(e)),n("    assignNodeIntersects",()=>ng(e)),n("    reversePoints",()=>np(e)),n("    acyclic.undo",()=>Y(e))}function ne(e,n){(0,a.forEach_default)(e.nodes(),function(t){var r=e.node(t),a=n.node(t);r&&(r.x=a.x,r.y=a.y,n.children(t).length&&(r.width=a.width,r.height=a.height))}),(0,a.forEach_default)(e.edges(),function(t){var r=e.edge(t),a=n.edge(t);r.points=a.points,Object.prototype.hasOwnProperty.call(a,"x")&&(r.x=a.x,r.y=a.y)}),e.graph().width=n.graph().width,e.graph().height=n.graph().height}(0,d.__name)(em,"tightTreeRanker"),(0,d.__name)(ep,"networkSimplexRanker"),(0,d.__name)(ev,"run"),(0,d.__name)(ew,"dfs"),(0,d.__name)(eE,"treeDepths"),(0,d.__name)(eb,"sumWeights"),(0,d.__name)(ey,"cleanup"),(0,d.__name)(ek,"addSubgraphConstraints"),(0,d.__name)(ex,"buildLayerGraph"),(0,d.__name)(eN,"createRootNode"),(0,d.__name)(eO,"crossCount"),(0,d.__name)(eI,"twoLayerCrossCount"),(0,d.__name)(eL,"initOrder"),(0,d.__name)(eP,"barycenter"),(0,d.__name)(eC,"resolveConflicts"),(0,d.__name)(eR,"doResolveConflicts"),(0,d.__name)(eT,"mergeEntries"),(0,d.__name)(eS,"sort"),(0,d.__name)(ej,"consumeUnsortable"),(0,d.__name)(eM,"compareWithBias"),(0,d.__name)(eG,"sortSubgraph"),(0,d.__name)(eB,"expandSubgraphs"),(0,d.__name)(eV,"mergeBarycenters"),(0,d.__name)(eF,"order"),(0,d.__name)(eY,"buildLayerGraphs"),(0,d.__name)(eq,"sweepLayerGraphs"),(0,d.__name)(ez,"assignOrder"),(0,d.__name)(eU,"parentDummyChains"),(0,d.__name)(eA,"findPath"),(0,d.__name)(eD,"postorder"),(0,d.__name)(eW,"findType1Conflicts"),(0,d.__name)(eH,"findType2Conflicts"),(0,d.__name)(eX,"findOtherInnerSegmentNode"),(0,d.__name)(eJ,"addConflict"),(0,d.__name)(eQ,"hasConflict"),(0,d.__name)(eK,"verticalAlignment"),(0,d.__name)(eZ,"horizontalCompaction"),(0,d.__name)(e$,"buildBlockGraph"),(0,d.__name)(e0,"findSmallestWidthAlignment"),(0,d.__name)(e1,"alignCoordinates"),(0,d.__name)(e2,"balance"),(0,d.__name)(e4,"positionX"),(0,d.__name)(e6,"sep"),(0,d.__name)(e5,"width"),(0,d.__name)(e3,"position"),(0,d.__name)(e7,"positionY"),(0,d.__name)(e8,"layout"),(0,d.__name)(e9,"runLayout"),(0,d.__name)(ne,"updateInputGraph");var nn=["nodesep","edgesep","ranksep","marginx","marginy"],nt={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},nr=["acyclicer","ranker","rankdir","align"],na=["width","height"],no={width:0,height:0},nd=["minlen","weight","width","height","labeloffset"],nu={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},ni=["labelpos"];function nf(e){var n=new r.Graph({multigraph:!0,compound:!0}),t=nk(e.graph());return n.setGraph((0,o.merge_default)({},nt,ny(t,nn),(0,a.pick_default)(t,nr))),(0,a.forEach_default)(e.nodes(),function(t){var r=nk(e.node(t));n.setNode(t,(0,a.defaults_default)(ny(r,na),no)),n.setParent(t,e.parent(t))}),(0,a.forEach_default)(e.edges(),function(t){var r=nk(e.edge(t));n.setEdge(t,(0,o.merge_default)({},nu,ny(r,nd),(0,a.pick_default)(r,ni)))}),n}function nc(e){var n=e.graph();n.ranksep/=2,(0,a.forEach_default)(e.edges(),function(t){var r=e.edge(t);r.minlen*=2,"c"!==r.labelpos.toLowerCase()&&("TB"===n.rankdir||"BT"===n.rankdir?r.width+=r.labeloffset:r.height+=r.labeloffset)})}function nl(e){(0,a.forEach_default)(e.edges(),function(n){var t=e.edge(n);if(t.width&&t.height){var r=e.node(n.v),a={rank:(e.node(n.w).rank-r.rank)/2+r.rank,e:n};u(e,"edge-proxy",a,"_ep")}})}function ns(e){var n=0;(0,a.forEach_default)(e.nodes(),function(t){var r=e.node(t);r.borderTop&&(r.minRank=e.node(r.borderTop).rank,r.maxRank=e.node(r.borderBottom).rank,n=(0,a.max_default)(n,r.maxRank))}),e.graph().maxRank=n}function n_(e){(0,a.forEach_default)(e.nodes(),function(n){var t=e.node(n);"edge-proxy"===t.dummy&&(e.edge(t.e).labelRank=t.rank,e.removeNode(n))})}function nh(e){var n=Number.POSITIVE_INFINITY,t=0,r=Number.POSITIVE_INFINITY,o=0,u=e.graph(),i=u.marginx||0,f=u.marginy||0;function c(e){var a=e.x,d=e.y,u=e.width,i=e.height;n=Math.min(n,a-u/2),t=Math.max(t,a+u/2),r=Math.min(r,d-i/2),o=Math.max(o,d+i/2)}(0,d.__name)(c,"getExtremes"),(0,a.forEach_default)(e.nodes(),function(n){c(e.node(n))}),(0,a.forEach_default)(e.edges(),function(n){var t=e.edge(n);Object.prototype.hasOwnProperty.call(t,"x")&&c(t)}),n-=i,r-=f,(0,a.forEach_default)(e.nodes(),function(t){var a=e.node(t);a.x-=n,a.y-=r}),(0,a.forEach_default)(e.edges(),function(t){var o=e.edge(t);(0,a.forEach_default)(o.points,function(e){e.x-=n,e.y-=r}),Object.prototype.hasOwnProperty.call(o,"x")&&(o.x-=n),Object.prototype.hasOwnProperty.call(o,"y")&&(o.y-=r)}),u.width=t-n+i,u.height=o-r+f}function ng(e){(0,a.forEach_default)(e.edges(),function(n){var t,r,a=e.edge(n),o=e.node(n.v),d=e.node(n.w);a.points?(t=a.points[0],r=a.points[a.points.length-1]):(a.points=[],t=d,r=o),a.points.unshift(c(o,t)),a.points.push(c(d,r))})}function nm(e){(0,a.forEach_default)(e.edges(),function(n){var t=e.edge(n);if(Object.prototype.hasOwnProperty.call(t,"x"))switch(("l"===t.labelpos||"r"===t.labelpos)&&(t.width-=t.labeloffset),t.labelpos){case"l":t.x-=t.width/2+t.labeloffset;break;case"r":t.x+=t.width/2+t.labeloffset}})}function np(e){(0,a.forEach_default)(e.edges(),function(n){var t=e.edge(n);t.reversed&&t.points.reverse()})}function nv(e){(0,a.forEach_default)(e.nodes(),function(n){if(e.children(n).length){var t=e.node(n),r=e.node(t.borderTop),o=e.node(t.borderBottom),d=e.node((0,a.last_default)(t.borderLeft)),u=e.node((0,a.last_default)(t.borderRight));t.width=Math.abs(u.x-d.x),t.height=Math.abs(o.y-r.y),t.x=d.x+t.width/2,t.y=r.y+t.height/2}}),(0,a.forEach_default)(e.nodes(),function(n){"border"===e.node(n).dummy&&e.removeNode(n)})}function nw(e){(0,a.forEach_default)(e.edges(),function(n){if(n.v===n.w){var t=e.node(n.v);t.selfEdges||(t.selfEdges=[]),t.selfEdges.push({e:n,label:e.edge(n)}),e.removeEdge(n)}})}function nE(e){var n=l(e);(0,a.forEach_default)(n,function(n){var t=0;(0,a.forEach_default)(n,function(n,r){var o=e.node(n);o.order=r+t,(0,a.forEach_default)(o.selfEdges,function(n){u(e,"selfedge",{width:n.label.width,height:n.label.height,rank:o.rank,order:r+ ++t,e:n.e,label:n.label},"_se")}),delete o.selfEdges})})}function nb(e){(0,a.forEach_default)(e.nodes(),function(n){var t=e.node(n);if("selfedge"===t.dummy){var r=e.node(t.e.v),a=r.x+r.width/2,o=r.y,d=t.x-a,u=r.height/2;e.setEdge(t.e,t.label),e.removeNode(n),t.label.points=[{x:a+2*d/3,y:o-u},{x:a+5*d/6,y:o-u},{x:a+d,y:o},{x:a+5*d/6,y:o+u},{x:a+2*d/3,y:o+u}],t.label.x=t.x,t.label.y=t.y}})}function ny(e,n){return(0,a.mapValues_default)((0,a.pick_default)(e,n),Number)}function nk(e){var n={};return(0,a.forEach_default)(e,function(e,t){n[t.toLowerCase()]=e}),n}(0,d.__name)(nf,"buildLayoutGraph"),(0,d.__name)(nc,"makeSpaceForEdgeLabels"),(0,d.__name)(nl,"injectEdgeLabelProxies"),(0,d.__name)(ns,"assignRankMinMax"),(0,d.__name)(n_,"removeEdgeLabelProxies"),(0,d.__name)(nh,"translateGraph"),(0,d.__name)(ng,"assignNodeIntersects"),(0,d.__name)(nm,"fixupEdgeLabelCoords"),(0,d.__name)(np,"reversePointsForReversedEdges"),(0,d.__name)(nv,"removeBorderNodes"),(0,d.__name)(nw,"removeSelfEdges"),(0,d.__name)(nE,"insertSelfEdges"),(0,d.__name)(nb,"positionSelfEdges"),(0,d.__name)(ny,"selectNumberAttrs"),(0,d.__name)(nk,"canonicalize")});
//# sourceMappingURL=dagre-QYZWZBMH.8a92dc38.js.map
